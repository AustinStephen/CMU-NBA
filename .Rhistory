cfse1011 <- c(coeffs1011, standard_errors1011)
cfse1112 <- c(coeffs1112, standard_errors1112)
cfse1213 <- c(coeffs1213, standard_errors1213)
cfse1314 <- c(coeffs1314 , standard_errors1314 )
cfse1415 <- c(coeffs1415, standard_errors1415)
cfse1516 <- c(coeffs1516, standard_errors1516)
cfse1617 <- c(coeffs1617, standard_errors1617)
cfse1718 <- c(coeffs1718, standard_errors1718)
cfse1819 <- c(coeffs1819, standard_errors1819)
coeffs_and_standard_errors <- rbind(coeffs1011, coeffs1112)
coeffs_and_standard_errors <- rbind(coeffs1011, coeffs1112)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1213)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1314)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1415)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1516)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1617)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1718)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, coeffs1819)
View(coeffs_and_standard_errors)
coeffs_and_standard_errors <- rbind(cfse1011, cfse1112)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1213)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1314)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1415)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1516)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1617)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1718)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1819)
View(coeffs_and_standard_errors)
coeffs_and_standard_errors <- coeffs_and_standard_errors %>%
rename(intercept = V1,
intercept_se = V2,
win_percent_diff = V3,
wp_diff_se = V4,
distance = V5,
distance_se = V6,
rest_diff = V7,
rest_diff_se = V8,
travel_3_hours_back = V9,
travel_3_hours_back_se = V10,
b2b_second = V11,
b2b_second_se = V12,
three_in_four = V13,
three_in_four_se = V14,
visitor = V15,
visitor_se = V16
)
colnames(coeffs_and_standard_errors)
check <- as.data.frame(coeffs_and_standard_errors)
View(check)
coeffs_and_standard_errors <- as.data.frame(coeffs_and_standard_errors)
coeffs_and_standard_errors <- coeffs_and_standard_errors %>%
rename(intercept = V1,
intercept_se = V2,
win_percent_diff = V3,
wp_diff_se = V4,
distance = V5,
distance_se = V6,
rest_diff = V7,
rest_diff_se = V8,
travel_3_hours_back = V9,
travel_3_hours_back_se = V10,
b2b_second = V11,
b2b_second_se = V12,
three_in_four = V13,
three_in_four_se = V14,
visitor = V15,
visitor_se = V16
)
View(coeffs_and_standard_errors)
coeffs_and_standard_errors <- coeffs_and_standard_errors %>%
rename(intercept = V1,
intercept_se = V2,
win_percent_diff = V3,
wp_diff_se = V4,
distance = V5,
distance_se = V6,
rest_diff = V7,
rest_diff_se = V8,
travel_3_hours_back = V9,
travel_3_hours_back_se = V10,
b2b_second = V11,
b2b_second_se = V12,
three_in_four = V13,
three_in_four_se = V14,
visitor = V15,
visitor_se = V16
) %>%
mutate(season = c(2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018))
coeffs_and_standard_errors <- mutate(coeffs_and_standard_errors, season = c(2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018))
summary(lm1011)
coefs1011
coeffs1011
coeffs_and_standard_errors <- rbind(cfse1011, cfse1112)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1213)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1314)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1415)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1516)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1617)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1718)
coeffs_and_standard_errors <- rbind(coeffs_and_standard_errors, cfse1819)
coeffs_and_standard_errors <- as.data.frame(coeffs_and_standard_errors)
coeffs_and_standard_errors <- coeffs_and_standard_errors %>%
rename(intercept = V1,
win_percent_diff = V2,
distance = V3,
rest_diff = V4,
travel_3_hours_back = V5,
b2b_second = V6,
three_in_four = V7,
visitor = V8,
intercept_se = V9,
wp_diff_se = V10,
distance_se = V11,
rest_diff_se = V12,
travel_3_hours_back_se = V13,
b2b_second_se = V14,
three_in_four_se = V15,
visitor_se = V16
)
coeffs_and_standard_errors <- mutate(coeffs_and_standard_errors, season = c(2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018))
summary(lm1011)
summary(lm1011)
summary(lm1112)
summary(lm1213)
ggplot(data = coeffs_and_standard_errors, aes(x = season)) +
geom_line(aes(y = distance))
ggplot(data = coeffs_and_standard_errors, aes(x = season)) +
geom_line(aes(y = rest_diff))
ggplot(data = coeffs_and_standard_errors, aes(x = season)) +
geom_line(aes(y = b2b_second))
ggplot(data = coeffs_and_standard_errors, aes(x = season)) +
geom_line(aes(y = b2b_second)) +
geom_errorbar(aes(ymin = b2b_second - b2b_second_se, ymax = b2b_second + b2b_second_se))
ggplot(data = coeffs_and_standard_errors, aes(x = season)) +
geom_line(aes(y = b2b_second)) +
geom_errorbar(aes(ymin = b2b_second - b2b_second_se, ymax = b2b_second + b2b_second_se), width = 0.2)
#Need to improve this with windowed distance and data with no duplicates
dy = b2b_second_se
#Need to improve this with windowed distance and data with no duplicates
dy = coeffs_and_standard_errors$b2b_second_se
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = b2b_second)) +
geom_line() +
geom_point(size = 2) +
geom_errorbar(aes(ymin = y - dy, ymax = y + dy), width = 0.2)
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = b2b_second)) +
geom_line() +
geom_point(size = 2) +
geom_errorbar(aes(ymin = b2b_second - dy, ymax = b2b_second + dy), width = 0.2)
lm1011 <- lm(game_net_rating ~ win_percent_diff + Distance + Rest
+ travel_3_hours_back + b2b_2nd + three_in_four + Visitor,
data = model1011_data)
summary(lm1011)
lm1011 <- lm(game_net_rating ~ win_percent_diff + Distance + Rest
+ travel_3_hours_back + b2b_2nd + three_in_four + Visitor,
data = filter(model1011_data, Visitor == TRUE))
summary(lm1011)
lm1011 <- lm(game_net_rating ~ win_percent_diff + Distance + rest_diff
+ travel_3_hours_back + b2b_2nd + three_in_four + Visitor,
data = filter(model1011_data, Visitor == TRUE))
summary(lm1011)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff
+ travel_3_hours_back + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff
+ travel_3_hours_back + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
#Need to improve this with windowed distance and data with no duplicates
dy = coeffs_and_standard_errors$travel_3_hours_back_se
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line() +
geom_point(size = 2) +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2)
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line(color = "blue") +
geom_point(size = 2) +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2)
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line(color = "blue") +
geom_point(size = 2, color = blue) +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2)
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line(color = "blue") +
geom_point(size = 2, color = "blue") +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2)
set.seed(1)
temp_rows <- sample(nrow(together))
temp_data <- together[rows, ]
temp_data_no_duplicates <- temp[!duplicated(temp$game_id),]
set.seed(52)
temp_rows2 <- sample(nrow(together))
temp_data2 <- together[rows, ]
temp_data_no_duplicates2 <- temp[!duplicated(temp$game_id),]
temp_lm <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates)
temp_summary <- summary(temp_lm)
View(temp_summary)
summary(temp_lm)
temp_lm2 <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates2)
summary(temp_lm2)
set.seed(1)
temp_rows <- sample(nrow(together), replace = TRUE)
temp_data <- together[temp_rows, ]
temp_data_no_duplicates <- temp_data[!duplicated(temp_data$game_id),]
set.seed(52)
temp_rows2 <- sample(nrow(together), replace = TRUE) #I think I have to do replace = true
temp_data2 <- together[temp_rows2, ]
temp_data_no_duplicates2 <- temp_data[!duplicated(temp_data$game_id),]
temp_lm <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates)
temp_lm2 <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates2)
summary(temp_lm)
summary(temp_lm2)
temp_data_no_duplicates2 <- temp_data[!duplicated(temp_data2$game_id),]
temp_lm2 <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates2)
summary(temp_lm2)
set.seed(1)
temp_rows <- sample(nrow(together))
temp_data <- together[temp_rows, ]
temp_data_no_duplicates <- temp_data[!duplicated(temp_data$game_id),]
set.seed(52)
temp_rows2 <- sample(nrow(together)) #I think I have to do replace = true
temp_data2 <- together[temp_rows2, ]
temp_data_no_duplicates2 <- temp_data[!duplicated(temp_data2$game_id),]
temp_lm <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates)
temp_lm2 <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates2)
summary(temp_lm)
summary(temp_lm2)
# Bootstrapped Model ------------------------------------------------------
coefs_intercepts = c()
coefs_visitor = c()
coefs_wpdiff = c()
coefs_rest_diff = c()
coefs_travel_3_hours_back = c()
coefs_b2b_2nd = c()
coefs_three_in_four = c()
for (i in c(1:100)) {
set.seed(i)
temp_rows <- sample(nrow(together))
temp_data <- together[temp_rows, ]
temp_data_no_duplicates <- temp_data[!duplicated(temp_data$game_id),]
temp_lm <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates)
temp_summary <- summary(temp_lm)
temp_coefs = as.numeric(temp_summary$coefficients[,1])
coef_intercepts = c(coefs_intercepts, temp_coefs[1])
coefs_visitor = c(coefs_visitor, temp_coefs[2])
coefs_wpdiff = c(coefs_wpdiff, temp_coefs[3])
coefs_rest_diff = c(coefs_rest_diff, temp_coefs[4])
coefs_travel_3_hours_back = c(coefs_travel_3_hours_back, temp_coefs[5])
coefs_b2b_2nd = c(coefs_b2b_2nd, temp_coefs[6])
coefs_three_in_four = c(coefs_three_in_four, temp_coefs[7])
}
coefs_wpdiff
coefs_rest_diff
coefs_travel_3_hours_back
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line(color = "blue") +
geom_point(size = 2, color = "blue") +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2) +
ylab("Net Rating of game")
mean(coef_intercepts)
mean(coefs_visitor)
mean(coefs_wpdiff)
mean(coefs_rest_diff)
mean(coefs_travel_3_hours_back)
mean(coefs_b2b_2nd)
mean(coef_intercepts)
mean(coefs_visitor)
mean(coefs_wpdiff)
mean(coefs_rest_diff)
mean(coefs_travel_3_hours_back)
mean(coefs_b2b_2nd)
mean(coefs_three_in_four)
se(coef_intercepts)
se_intercept <- sd(coef_intercepts)/length(coef_intercepts)
sd(coef_intercepts)
se_intercept <- std(coef_intercepts)/length(coef_intercepts)
se_intercept <- std(coefs_visitor)/length(coefs_visitor)
se_intercept <- sd(coefs_visitor)/length(coefs_visitor)
coefs_rest_diff
se_visitors <- sd(coefs_visitor)/length(coefs_visitor)
se_wp_diff <- sd(coefs_wpdiff)/length(coefs_wpdiff)
# Calculating Standard Errors ---------------------------------------------
se_intercept <- std(coef_intercepts)/length(coef_intercepts)
se_visitors <- sd(coefs_visitor)/length(coefs_visitor)
se_wp_diff <- sd(coefs_wpdiff)/length(coefs_wpdiff)
se_rest_diff <- sd(coefs_rest_diff)/length(coefs_rest_diff)
se_travel_3_hours_back <- sd(coefs_travel_3_hours_back)/length(coefs_travel_3_hours_back)
se_b2b_2nd <- sd(coefs_b2b_2nd)/length(coefs_b2b_2nd)
se_three_in_four <- sd(coefs_three_in_four)/length(coefs_three_in_four)
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line(color = "blue") +
geom_point(size = 2, color = "blue") +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2) +
ylab("Net Rating of game") +
title("Effect of traveling 3 timezones east to west on NBA games")
ggplot(data = coeffs_and_standard_errors, aes(x = season, y = travel_3_hours_back)) +
geom_line(color = "blue") +
geom_point(size = 2, color = "blue") +
geom_errorbar(aes(ymin = travel_3_hours_back - dy, ymax = travel_3_hours_back + dy), width = 0.2) +
ylab("Net Rating of game") +
labs( title = "Effect of traveling 3 timezones east to west on NBA games")
distance_windows <- read_csv("/Users/matthewyep/Desktop/CarnegieMellon/CMU-NBA/matthew_data/together_5dayWindow.csv")
View(distance_windows)
distance_windows <- distance_windows %>%
mutate(distance_diff = Distance - opp_Distance) %>%
mutate(windowed_distance_diff = Team_dist5dayWindow - opp_dist5dayWindow)
distance_windows <- distance_windows %>%
mutate(distance_diff = Distance - opp_Distance) %>%
mutate(windowed_distance_diff = Team_dist_5dayWindow - opp_dist_5dayWindow)
distance_windows <- read_csv("/Users/matthewyep/Desktop/CarnegieMellon/CMU-NBA/matthew_data/together_5dayWindow.csv")
colnames(distance_windows)
distance_windows <- distance_windows %>%
mutate(distance_diff = Distance - opp_Distance) %>%
mutate(windowed_distance_diff = Team_dist_5dayWindow - opp_dist_5dayWindow)
check <- distance_windows%>%
filter(Team == "Atlanta Hawks") %>%
filter(season == "2010-11")
check <- distance_windows%>%
filter(Team == "Atlanta Hawks")
View(check)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_advantage
+ hours_shift + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + rest_advantage
+ hours_shift + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_advantage
+ hours_shift + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff
+ hours_shift + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff
+ hours_shift + b2b_2nd + three_in_four,
data = home)
summary(travel_home_lm)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four,
data = home)
summary(travel_home_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff
+ hours_shift + b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff+ b2b_2nd + three_in_four,
data = visitors)
summary(travel_visitors_lm)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four,
data = home)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff+ b2b_2nd + three_in_four + travel_3_hours_back,
data = visitors)
summary(travel_visitors_lm)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four + travel_3_hours_back,
data = home)
summary(travel_home_lm)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four,
data = home)
summary(travel_home_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff+ b2b_2nd + three_in_four + travel_3_hours_back,
data = visitors)
summary(travel_visitors_lm)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four,
data = home)
summary(travel_home_lm)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four + travel_3_hours_back,
data = home)
summary(travel_home_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff+ b2b_2nd + three_in_four + travel_3_hours_back,
data = visitors)
summary(travel_visitors_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff  + rest_diff+ b2b_2nd + three_in_four + travel_3_hours_back,
data = visitors)
summary(travel_visitors_lm)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + net_rating_diff + rest_diff + b2b_2nd + three_in_four + travel_3_hours_back,
data = home)
summary(travel_home_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff  + rest_diff+ b2b_2nd + three_in_four + travel_3_hours_back,
data = visitors)
summary(travel_visitors_lm)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + rest_diff + b2b_2nd + three_in_four + travel_3_hours_back,
data = home)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + rest_diff + b2b_2nd + three_in_four + travel_3_hours_back,
data = home)
summary(travel_home_lm)
summary(travel_visitors_lm)
summary(travel_home_lm)
# Visitors Model ----------------------------------------------------------
travel_visitors_lm <- lm(game_net_rating ~ win_percent_diff  + rest_diff+ b2b_2nd + three_in_four + travel_3_hours_back,
data = visitors)
summary(travel_visitors_lm)
# Home Model --------------------------------------------------------------
home <- filter(together, Visitor == FALSE)
travel_home_lm <- lm(game_net_rating ~ win_percent_diff + rest_diff + b2b_2nd + three_in_four + travel_3_hours_back,
data = home)
summary(travel_home_lm)
summary(travel_visitors_lm)
# Bootstrapped Model ------------------------------------------------------
#Max recommends not to use because its overly complicated
coefs_intercepts = c()
coefs_visitor = c()
coefs_wpdiff = c()
coefs_rest_diff = c()
coefs_travel_3_hours_back = c()
coefs_b2b_2nd = c()
coefs_three_in_four = c()
for (i in c(1:100)) {
set.seed(i)
temp_rows <- sample(nrow(together))
temp_data <- together[temp_rows, ]
temp_data_no_duplicates <- temp_data[!duplicated(temp_data$game_id),]
temp_lm <- lm(game_net_rating ~ Visitor + win_percent_diff + rest_diff + travel_3_hours_back +
+ b2b_2nd + three_in_four,
data = temp_data_no_duplicates)
temp_summary <- summary(temp_lm)
temp_coefs = as.numeric(temp_summary$coefficients[,1])
coef_intercepts = c(coefs_intercepts, temp_coefs[1])
coefs_visitor = c(coefs_visitor, temp_coefs[2])
coefs_wpdiff = c(coefs_wpdiff, temp_coefs[3])
coefs_rest_diff = c(coefs_rest_diff, temp_coefs[4])
coefs_travel_3_hours_back = c(coefs_travel_3_hours_back, temp_coefs[5])
coefs_b2b_2nd = c(coefs_b2b_2nd, temp_coefs[6])
coefs_three_in_four = c(coefs_three_in_four, temp_coefs[7])
}
#Calculting standard errors
se_intercept <- std(coef_intercepts)/length(coef_intercepts)
#Calculting standard errors
se_intercept <- std(coef_intercepts)/length(coef_intercepts)
se_visitors <- sd(coefs_visitor)/length(coefs_visitor)
se_wp_diff <- sd(coefs_wpdiff)/length(coefs_wpdiff)
se_rest_diff <- sd(coefs_rest_diff)/length(coefs_rest_diff)
se_travel_3_hours_back <- sd(coefs_travel_3_hours_back)/length(coefs_travel_3_hours_back)
se_b2b_2nd <- sd(coefs_b2b_2nd)/length(coefs_b2b_2nd)
se_three_in_four <- sd(coefs_three_in_four)/length(coefs_three_in_four)
#Average bootstrapped coefficients
mean_intercept <- mean(coef_intercepts)
mean_visitor <- mean(coefs_visitor)
mean_wpdiff <- mean(coefs_wpdiff)
mean_rest_diff <- mean(coefs_rest_diff)
mean_travel_3_hours_back <- mean(coefs_travel_3_hours_back)
distance_windows <- read_csv("/Users/matthewyep/Desktop/CarnegieMellon/CMU-NBA/matthew_data/together_5dayWindow_update.csv")
distance_windows <- distance_windows %>%
mutate(distance_diff = Distance - opp_Distance) %>%
mutate(windowed_distance_diff = Team_dist_5dayWindow - opp_dist_5dayWindow) %>%
mutate(distance_advantage = (distance_diff > 0)) %>%
mutate(windowed_distance_advantage = (windowed_distance_diff) > 0)
View(distance_windows)
View(distance_windows)
distance_windows <- distance_windows %>%
mutate(distance_diff = Distance - opp_distance) %>%
mutate(windowed_distance_diff = dist_5dayWindow - opp_dist_5dayWindow) %>%
mutate(distance_advantage = (distance_diff > 0)) %>%
mutate(windowed_distance_advantage = (windowed_distance_diff) > 0)
View(check)
distance_windows <- read_csv("/Users/matthewyep/Desktop/CarnegieMellon/CMU-NBA/matthew_data/together_5dayWindow_update.csv")
check <- distance_windows %>%
select(c("Date", "game_id", "season", "Team", "Opponent", "Visitor", "Route", "Distance", "opp_distance", "dist_5dayWindow","opp_dist_5dayWindow"))
View(check)
check <- distance_windows %>%
select(c("Date", "game_id", "season","Visitor", "Route", "Opponent", "Team", "Distance", "opp_distance", "dist_5dayWindow","opp_dist_5dayWindow"))
View(check)
check <- distance_windows %>%
select(c( "game_id","Visitor", "Route", "Opponent", "Date","Team", "Distance", "opp_distance", "dist_5dayWindow","opp_dist_5dayWindow"))
check <- distance_windows %>%
select(c( "game_id","Visitor",  "Opponent", "Route","Date","Team", "Distance", "opp_distance", "dist_5dayWindow","opp_dist_5dayWindow"))
check2 <- check[!duplicated(check), ]
View(check2)
together <- read_csv("/Users/matthewyep/Desktop/CarnegieMellon/CMU-NBA/matthew_data/together_5dayWindow_update.csv")
distance_windows <- read_csv("/Users/matthewyep/Desktop/CarnegieMellon/CMU-NBA/matthew_data/together_5dayWindow_update.csv")
